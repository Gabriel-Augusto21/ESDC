{% load static %}
<table class="table table-borderless tabela table-hover">
    <thead>
        <tr>
            <th>Exigência</th>
            <th>Nutriente</th>
            <th>Valor</th>
            <th class="text-end">Ações</th>
        </tr>
    </thead>
    <tbody>
    {% for composicao in composicao_exigencia %}
    <tr class="container" data-id="{{ composicao.id }}"
    {% if composicao.is_active %}
        style="background-color: #ffffff"
    {% else %}
        style="background-color:rgba(190, 190, 190, 0.31)"
    {% endif %}>
        <td>{{ composicao.exigencia.nome }}</td>
        <td>{{ composicao.nutriente.nome }}</td>
        <td>{{ composicao.valor }}</td>
        <td class="text-end">
            {% if composicao.is_active %}
            <button class="btn btn-sm update-btn"
                    data-id="{{ composicao.id }}"
                    data-exigencia-id="{{ composicao.exigencia.id }}"
                    data-exigencia="{{ composicao.exigencia.nome|escapejs }}"
                    data-nutriente-id="{{ composicao.nutriente.id }}"
                    data-nutriente="{{ composicao.nutriente.nome|escapejs }}"
                    data-valor="{{ composicao.valor|default_if_none:''|escapejs }}">
                <img src="{% static 'img/update.png' %}" width="20">
            </button>
            <button class="btn btn-sm desativar-btn"
                    data-id="{{ composicao.id }}"
                    data-url="{% url 'exigencias:desativar_composicaoExigencia' %}?id={{ composicao.id }}">
                <img src="{% static 'img/visibility.png' %}" width="20">
            </button>
            {% else %}
            <button class="btn btn-sm ativar-btn"
                    data-id="{{ composicao.id }}"
                    data-url="{% url 'exigencias:ativar_composicao_exigencia' %}?id={{ composicao.id }}">
                <img src="{% static 'img/not_visibility.png' %}" width="20">
            </button>
            {% endif %}
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="4" class="text-center">Nenhuma composição encontrada.</td></tr>
    {% endfor %}
    </tbody>
</table>

<!-- Paginação -->
{% include "paginador.html" %}
<input type="hidden" id="csrf-token" value="{{ csrf_token }}">
<script src="{% static 'js/sweetalert2@11.js'%}"></script>
<script src="{% static 'js/htmx.js'%}"></script>
