{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>:: Escola de Saúde Digestiva do Cavalo ::</title>

    <link rel="preconnect" href="https://fonts.googleapis.com"><!-- Fonte -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><!-- Fonte -->
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:ital,wght@0,400..700;1,400..700&display=swap"
        rel="stylesheet"><!-- Fonte -->

    <link rel="stylesheet" href="{% static 'css/crud.css' %}">

    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}"><!-- Framework front-end-->
    <link rel="stylesheet" href="{% static 'css/toastr.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">

    <!-- SweetAlert2 e HTMX - todo o js joguei dentro de dois arquivos na pasta de estaticos -->
    <script src="{% static 'js/sweetalert2@11.js'%}"></script><!-- bib de modais -->
    <script src="{% static 'js/htmx.js'%}"></script><!-- responsável pelo tratamento de erros -->

    <script src="{% static 'js/jquery-3.5.1.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/toastr.min.js' %}"></script>
</head>
<div class="background-image"></div>

<body class="instrument-sans" style="min-height: 100%; display: flex; flex-direction: column;">
    <nav class="navbar navbar-expand-lg navbar-light align-items-center" style="background-color: #ffffff;">
        <div class="container">
            <a class="navbar-brand mx-lg-0" href="{% url 'core:main'%}">
                <img src="{% static 'img/logo.png' %}" style="width: 70px">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-center justify-content-lg-end text-center text-lg-left"
                id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="item nav-link dropdown-toggle mx-lg-2 mx-2" href="#" id="navbarDropdown"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                            style="font-size:14px;">Cadastros</a>
                        <div class="dropdown-menu mx-auto" aria-labelledby="navbarDropdown" style="font-size:14px">
                            <a class="dropdown-item" href="{% url 'alimentos:alimentos'%}">Alimentos</a>
                            <a class="dropdown-item" href="{% url 'alimentos:classificacao'%}">Classificação</a>
                            <a class="dropdown-item" href="{% url 'exigencias:exigencias'%}">Exigências</a>
                            <a class="dropdown-item" href="{% url 'alimentos:nutrientes'%}">Nutrientes</a>
                        </div>
                    </li>
                    <li class="nav-item" style="font-size:14px">
                        <a class="item nav-link ml-lg-2 mx-2" href="{% url 'dietas:dietas' %}">Dieta</a>
                    </li>
                    <li class="nav-item" style="font-size:14px">
                        <a class="item nav-link ml-lg-2 mx-2" href="{% url 'animais:animais'%}">Animais</a>
                    </li>
                    <li class="nav-item mx-lg-2 mx-2" style="font-size:14px;">
                        <button type="button" class="botao ml-auto" style="font-weight:200">Login</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <style>
        .home {
            opacity: 0;
            transform: translateY(80px);
            /* começa 20px abaixo */
            transition: opacity 0.2s ease, transform 0.3s ease;
        }

        .home.subir {
            opacity: 1;
            transform: translateY(0px);
            /* posição final */
        }
    </style>
    <div class="content home mb-5" id="home">
        {% block conteudo %}
        {% endblock %}
    </div>

    <footer class="footer text-light pt-5 pb-3">
    <div class="container">
        <div class="row">

            <!-- Logo e descrição -->
            <div class="col-md-3 mb-4">
                <img src="{% static 'img/logo.png' %}" alt="Logo" style="width: 120px; filter: brightness(0) invert(1); margin-bottom: 1rem;">
                <p style="font-family: 'Roboto', sans-serif; font-size: 0.85rem; color: #cccccc;">
                    Escola de Saúde Digestiva do Cavalo - excelência em educação e pesquisa.
                </p>
            </div>

            <!-- Contato -->
            <div class="col-md-3 mb-4">
                <h6 class="text-uppercase fw-bold mb-3" style="letter-spacing: 1px; font-size: 0.85rem;">Contato</h6>
                <ul class="list-unstyled" style="font-size: 0.85rem; line-height: 1.8;">
                    <li><a href="mailto:gomides.augustog@gmail.com" class="text-light text-decoration-none">gomides.augustog@gmail.com</a></li>
                    <li><a href="mailto:joaodirceuconstantinocarvalho@gmail.com" class="text-light text-decoration-none">joaodirceuconstantinocarvalho@gmail.com</a></li>
                    <li><a href="mailto:luancarlos1201@gmail.com" class="text-light text-decoration-none">luancarlos1201@gmail.com</a></li>
                    <li><a href="mailto:nicolecarolinesantos07@gmail.com" class="text-light text-decoration-none">nicolecarolinesantos07@gmail.com</a></li>
                </ul>
            </div>

            <!-- Equipe -->
            <div class="col-md-3 mb-4">
                <h6 class="text-uppercase fw-bold mb-3" style="letter-spacing: 1px; font-size: 0.85rem;">Equipe</h6>
                <ul class="list-unstyled" style="font-size: 0.85rem; line-height: 1.8;">
                    <li>Prof. Orientador: Eduardo Cardoso Melo</li>
                    <li>Gabriel</li>
                    <li>João</li>
                    <li>Luan</li>
                    <li>Nicole</li>
                </ul>
            </div>

            <!-- Links extras ou informações -->
            <div class="col-md-3 mb-4">
                <h6 class="text-uppercase fw-bold mb-3" style="letter-spacing: 1px; font-size: 0.85rem;">Mais informações</h6>
                <ul class="list-unstyled" style="font-size: 0.85rem; line-height: 1.8;">
                    <li><a href="#" class="text-light text-decoration-none">Política de Privacidade</a></li>
                    <li><a href="#" class="text-light text-decoration-none">Termos de Uso</a></li>
                    <li><a href="#" class="text-light text-decoration-none">Suporte</a></li>
                </ul>
            </div>

        </div>

        <hr class="bg-light mt-0">

        <div class="row">
            <div class="col text-center" style="font-family: 'Roboto', sans-serif; font-size: 0.75rem; color: #cccccc;">
                &copy; 2025 Escola de Saúde Digestiva do Cavalo. Todos os direitos reservados.
            </div>
        </div>
    </div>
</footer>

</body>
<script>
    //exibir modal sobre
    $('#btnSobre').click(function () {
        $('#jnlSobre').modal('show');
    });
    //eventos que serao usados no caso do cadastro ser carregado em forma modal
    window.addEventListener('load', function () {
        if (window.opener) {
            var header = document.getElementById('rodape');
            var footer = document.getElementById('menu_navegacao');

            if (header) header.style.display = 'none';
            if (footer) footer.style.display = 'none';
        }
    });

    window.onbeforeunload = function () {
        if (window.opener && !window.opener.closed) {
            window.opener.location.reload();
            window.opener.window.opener.desabilitaInteracoes();
        }
    };
    //---------------------------------

    $(document).ready(function () {
        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": true,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        };

        {% if messages %}
        {% for message in messages %}
        {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
        toastr.error("{{ message }}", "Erro");
        {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
        toastr.success("{{ message }}", "Sucesso");
        {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
        toastr.warning("{{ message }}", "Aviso");
        {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
        toastr.info("{{ message }}", "Atenção");
        {% endif %}
        {% endfor %}
        {% endif %}
    });
</script>
<script>
      function revelarAoRolar() {
         const elementos = document.querySelectorAll('.home, .efeito');

         elementos.forEach(el => {
            const topoElemento = el.getBoundingClientRect().top;
            const alturaTela = window.innerHeight;

            // Se o elemento entrou na tela
            if (topoElemento < alturaTela - 50) {
               if (el.classList.contains('efeito')) {
                  el.classList.add('visivel');
               } else {
                  el.classList.add('subir');
               }
            }
         });
      }

      window.addEventListener('load', revelarAoRolar);
      window.addEventListener('scroll', revelarAoRolar);

   </script>
</body>

</html>