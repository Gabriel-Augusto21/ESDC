{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>:: Escola de Saúde Digestiva do Cavalo ::</title>

   <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
   <link rel="stylesheet" href="{% static 'css/toastr.min.css' %}">
   <link rel="stylesheet" href="{% static 'css/main.css' %}">
   <link rel="stylesheet" href="{% static 'css/crud.css' %}">
   {% comment %} <link rel="icon" href="{% static 'img/icone_cavalo.png' %}" type="image/x-icon"> {% endcomment %}

   <script src="{% static 'js/jquery-3.5.1.min.js' %}"></script>
   <script src="{% static 'js/popper.min.js' %}"></script>
   <script src="{% static 'js/bootstrap.min.js' %}"></script>
   <script src="{% static 'js/toastr.min.js' %}"></script> 
</head>
<body>
   <div class="flex-wrapper">
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="{% url 'core:main'%}">Início</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
               <ul class="navbar-nav">
               <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Cadastros
                  </a>
                  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">Exigencias</a>
                        <a class="dropdown-item" href="{% url 'alimentos:alimentos'%}">Alimentos</a>
                        <a class="dropdown-item" href="{% url 'alimentos:nutrientes'%}">Nutrientes</a>
                        <a class="dropdown-item" href="{% url 'alimentos:classificacao'%}">Classificação</a>
                  </div>
               </li>
               <li class="nav-item">
                  <a class="nav-link disabled" href="#">Dieta</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link disabled" href="#">Animais</a>
               </li>
               </ul>
            </div>
      </nav>
      <div class="content">
         {% block conteudo %}
         {% endblock %}
      </div>
   </div>
<script>
   //exibir modal sobre
   $('#btnSobre').click(function() {
      $('#jnlSobre').modal('show');
   });
   //eventos que serao usados no caso do cadastro ser carregado em forma modal
   window.addEventListener('load', function() {
      if (window.opener) {
            var header = document.getElementById('rodape');
            var footer = document.getElementById('menu_navegacao');
            
            if (header) header.style.display = 'none';
            if (footer) footer.style.display = 'none';
      }
   });

   window.onbeforeunload = function() {
      if (window.opener && !window.opener.closed) {
            window.opener.location.reload();
            window.opener.window.opener.desabilitaInteracoes();                
      }
   };
   //---------------------------------
   
   $(document).ready(function () {
      toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": true,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
      };

      {% if messages %}
            {% for message in messages %}
               {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                  toastr.error("{{ message }}", "Erro");
               {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                  toastr.success("{{ message }}", "Sucesso");
               {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
                  toastr.warning("{{ message }}", "Aviso");
               {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
                  toastr.info("{{ message }}", "Atenção");
               {% endif %}
            {% endfor %}
      {% endif %}
   });
</script>
</body>
</html>