{%load static%}
<!DOCTYPE html>
<html lang="pt_BR">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Alimentos</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
   <h1>Alimentos</h1>
   <select name="Select Alimentos" id="sopa">
      {% for alimento in alimentos %}
         <option>{{ alimento.nome }} - {{alimento.classificacao.nome}}</option>
      {% endfor %}
   </select>
   <ul>
      <li>
         <a href="{% url "alimentos:nutrientes" %}">Nutrientes</a>
      </li>
      <li>
         <a href="{% url "alimentos:classificacao" %}">Classificacao</a>
      </li>
   </ul>
   <table class="table table-striped table-bordered table-hover">
      <thead>
          <tr>
              <th scope="col">ID</th>
              <th scope="col">Nome</th>
              <th scope="col">Classificação</th>
              <th scope="col">Ações</th>
          </tr>
      </thead>
      <tbody>
          {% for alimento in alimentos %}
          <tr class="alimento-row" data-id="{{ alimento.id }}">
              <td>{{ forloop.counter }}</td>
              <td>
                  {{ alimento.nome }}
              </td>
              <td>
                  {{alimento.classificacao.nome}}
              </td>
              <td>
                  <button class="btn btn-sm delete-btn" id="apagar" data-id="{{ alimento.id }}">
                    <img src="{% static 'img/delete.png' %}" alt="Excluir" width="20" height="20">
                  </button>              
                  <button class="btn btn-sm" id="atualizar">
                     <img src="{% static 'img/update.png' %}" alt="Alterar" width="20" height="20">
                  </button>
              </td>
          </tr>
          {% endfor %}
      </tbody>
  </table>

  <nav aria-label="Page navigation">
   <ul class="pagination">
       {% if page_obj.has_previous %}
           <li class="page-item"><a class="page-link" href="?page=1&query={{ query }}">&laquo; primeira</a></li>
           <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}&query={{ query }}">&lsaquo; anterior</a></li>
       {% else %}
           <li class="page-item disabled"><span class="page-link">&laquo; primeira</span></li>
           <li class="page-item disabled"><span class="page-link">&lsaquo; anterior</span></li>
       {% endif %}
       
       {% for num in page_obj.paginator.page_range %}
           {% if page_obj.number == num %}
               <li class="page-item active"><span class="page-link">{{ num }}</span></li>
           {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
               <li class="page-item"><a class="page-link" href="?page={{ num }}&query={{ query }}">{{ num }}</a></li>
           {% endif %}
       {% endfor %}
       
       {% if page_obj.has_next %}
           <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}&query={{ query }}">próxima &rsaquo;</a></li>
           <li class="page-item"><a class="page-link" href="?page={{ page_obj.paginator.num_pages }}&query={{ query }}">última &raquo;</a></li>
       {% else %}
           <li class="page-item disabled"><span class="page-link">próxima &rsaquo;</span></li>
           <li class="page-item disabled"><span class="page-link">última &raquo;</span></li>
       {% endif %}
   </ul>
</nav>
</body>



</html>