{% extends 'master.html' %}
{%load static%}
{% block conteudo %}
<div class="container">
   <div class="form-group row align-items-center mb-4">
      <div class="col-12 text-center">
         <h1>Alimentos</h1>
      </div>
   </div>
      <form method="get" class="form-group row mb-4 d-flex justify-content-center">
   <div class="col-4">
    <div class="input-group">
      <input class="form-control"
             id="txtBuscaNome"
             name="query"
             value="{{ query }}"
             type="text"
             placeholder="Pesquise por nome"
             style="border-radius: 20px 0 0 20px;">
      <div class="input-group-append">
        <button type="submit" class="botao" style="border-radius: 0 20px 20px 0;"><img src="{% static 'img/search.png' %}" width="20" style=" margin-right: 3px; filter: brightness(0) invert(1)"></button>
      </div>
    </div>
  </div>
</form> 
    <!-- BotÃ£o de inserir -->
    <div class="form-group row mr-1 justify-content-end">
        <button type="button" class="btn btn-sm btn-primary insert-btn">Inserir Alimentos</button>
    </div>
    <!-- Contador de registros -->
    <legend class="text-center small">
        {% if page_obj.paginator.count == 0 %}
        Nenhum registro cadastrado
        {% elif page_obj.paginator.count == 1 %}
        1 registro encontrado
        {% else %}
        {{ page_obj.paginator.count }} registros encontrados
        {% endif %}
    </legend>
    <!-- Registros -->
      <div id="nutrientes-table">
         {% include 'alimentos_table.html' %}
      </div>
   </fieldset>
</div>

<script type="module" src="{% static 'js/crud_alimentos.js' %}"></script>
<script>
    const csrf_token = '{{ csrf_token }}';
        document.body.addEventListener('htmx:configRequest', (event) => {
            event.detail.headers['X-CSRFToken'] = csrf_token;
        });
</script>
{% endblock %}